<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I-Allo VoiceBots</title>
    
<body>

    
        
        <nav class="navbar">
            <div class="navbar_css w-embed">
     
                <style>
                    /* Initial state of the dropdown list */
                    .navbar_dropdown-list {
                        display: none;
                        opacity: 0;
                        transform: translateY(-4rem);
                        transition: all 0.4s ease;
                    }

                    /* Icon rotation transition */
                    .navbar_dropdown-icon {
                        transition: transform 0.4s ease;
                    }

                    /* Open state for the dropdown list */
                    .navbar_dropdown.is-open .navbar_dropdown-list {
                        display: flex;
                        opacity: 1;
                        transform: translateY(0);
                    }

                    /* Rotate the icon when dropdown is open */
                    .navbar_dropdown.is-open .navbar_dropdown-icon {
                        transform: rotate(-180deg);
                    }
                </style>
            </div>
            <div class="navbar_container">
               
                <div id="w-node-_58a8cbe4-ed0c-b2e8-6536-d99420afdd4e-20afdd4a" class="navbar_menu">
                    <a href="/" class="navlink">Home</a>
                    <a href="/about-us" class="navlink">About Us</a>
                    <div class="navbar_dropdown is-services">
                        <div class="navlink is-dropdown">
                            <div>Services</div>
                            <div class="navbar_dropdown-icon w-embed">
                                <svg width="12" height="6" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.5 1L6 5L1.5 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                        
                    
                    <a id="w-node-_01c0cf4b-2287-7684-d58d-16344eaf48a7-20afdd4a" href="/start-project" class="button is-navbar is-portrait w-inline-block">
                        <div>Get in Touch</div>
                    </a>
                    <div class="navbar_dropdown hide">
                        <div class="navlink is-dropdown">
                            <div>Insights</div>
                            <div class="navbar_dropdown-icon w-embed">
                                <svg width="12" height="6" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M10.5 1L6 5L1.5 1" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                        <div class="navbar_dropdown-list">
                            <div class="navbar_dropdown-card">
                                <a href="/case-studies" class="navlink is-dropdown-list is-center w-inline-block">
                                    <div>Case Studies</div>
                                    <div class="icon-1x1-medium hide-tablet w-embed">
                                        <svg width="100%" height="100%" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9.33594 18.5781L15.3359 12.5781L9.33594 6.57812" stroke="#FFE609" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </a>
                                <a href="/resource-hub" class="navlink is-dropdown-list is-center w-inline-block">
                                    <div>Resource Hub</div>
                                    <div class="icon-1x1-medium hide-tablet w-embed">
                                        <svg width="100%" height="100%" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9.33594 18.5781L15.3359 12.5781L9.33594 6.57812" stroke="#FFE609" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <a id="w-node-_58a8cbe4-ed0c-b2e8-6536-d99420afddae-20afdd4a" href="/start-project" class="button is-navbar w-inline-block">
                    <div>Get in Touch</div>
                </a>
                <div id="w-node-_58a8cbe4-ed0c-b2e8-6536-d99420afddb1-20afdd4a" class="navbar_menu-button-wrapper">
                    <div id="w-node-_58a8cbe4-ed0c-b2e8-6536-d99420afddb2-20afdd4a" data-w-id="58a8cbe4-ed0c-b2e8-6536-d99420afddb2" class="navbar_menu-button is-close">
                        <div data-is-ix2-target="1" class="navbar_menu-icon" data-w-id="58a8cbe4-ed0c-b2e8-6536-d99420afddb3" data-animation-type="lottie" data-src="https://cdn.prod.website-files.com/66e1505fba928b65f6323f51/66e1795c0c029240798f8702_JYKqiVZDTo.json" data-loop="0" data-direction="1" data-autoplay="0" data-renderer="svg" data-default-duration="3" data-duration="0" data-ix2-initial-state="0"></div>
                    </div>
                    <div id="w-node-_58a8cbe4-ed0c-b2e8-6536-d99420afddb4-20afdd4a" data-w-id="58a8cbe4-ed0c-b2e8-6536-d99420afddb4" class="navbar_menu-button is-open"></div>
                </div>
            </div>
        </nav>



    <div class="container">
        <h1>I-Allo VoiceBots</h1>
        <p>With I-Allo, Your Cheap CallBot Agent in Minutes.</p>
        <div class="mic-icon" id="mic-icon" style="z-index: 1000;">
                <svg xmlns="http://www.w3.org/2000/svg" width="144px" height="144px" viewBox="-1.6 -1.6 19.20 19.20" fill="none" stroke="#000000" stroke-width="0.368" transform="rotate(0)">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.032"/>
                        <g id="SVGRepo_iconCarrier"> 
                            <path d="M5 3C5 1.34315 6.34315 0 8 0C9.65685 0 11 1.34315 11 3V7C11 8.65685 9.65685 10 8 10C6.34315 10 5 8.65685 5 7V3Z" fill="#ffffff"/> 
                            <path d="M9 13.9291V16H7V13.9291C3.60771 13.4439 1 10.5265 1 7V6H3V7C3 9.76142 5.23858 12 8 12C10.7614 12 13 9.76142 13 7V6H15V7C15 10.5265 12.3923 13.4439 9 13.9291Z" fill="#ffffff"/> 
                        </g>
                </svg> 
                
        </div>
        
        <canvas id="canvas"> </canvas>
        <div class="button-container">
            <!-- <button>Try for Free</button>
            <button>Get in Touch</button> -->
        </div>
        
    </div>
    <!-- <div class="cookie-bar">
        <span>We use cookies to enhance your browsing experience, analyze site traffic, and personalize content.</span>
        <div>
            <button class="reject">Reject Non-Essential</button>
            <button>Accept All</button>
        </div>
    </div> -->
    <div id="audio-container"></div>

    <script>
        let isProcessing = false;
        let peerConnection;
        let dataChannel;

        document.getElementById('mic-icon').addEventListener('click', function() {
            if (isProcessing) {
            // Stop the process
           
            if (peerConnection) {
                peerConnection.close();
                peerConnection = null;
            }
            const audioContainer = document.getElementById('audio-container');
            audioContainer.innerHTML = ''; // Clear audio elements
            isProcessing = false;
            navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {
                stream.getTracks().forEach((track) => track.stop());
            });
            console.log('Process stopped');

            document.getElementById('mic-icon').innerHTML = `  <svg xmlns="http://www.w3.org/2000/svg" width="144px" height="144px" viewBox="-1.6 -1.6 19.20 19.20" fill="none" stroke="#000000" stroke-width="0.368" transform="rotate(0)">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="0.032"/>
                        <g id="SVGRepo_iconCarrier"> 
                            <path d="M5 3C5 1.34315 6.34315 0 8 0C9.65685 0 11 1.34315 11 3V7C11 8.65685 9.65685 10 8 10C6.34315 10 5 8.65685 5 7V3Z" fill="#ffffff"/> 
                            <path d="M9 13.9291V16H7V13.9291C3.60771 13.4439 1 10.5265 1 7V6H3V7C3 9.76142 5.23858 12 8 12C10.7614 12 13 9.76142 13 7V6H15V7C15 10.5265 12.3923 13.4439 9 13.9291Z" fill="#ffffff"/> 
                        </g>
                </svg> `;

            } else {

            // Start the process

            document.getElementById('mic-icon').innerHTML = `<svg width="96px" height="96px" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000" stroke-width="0.20800000000000002"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect x="1" y="1" width="14" height="14" fill="#ffffff"></rect> </g></svg>`;
            peerConnection = new RTCPeerConnection();
            const audioContainer = document.getElementById('audio-container');

            // Handle incoming audio tracks
            peerConnection.ontrack = (event) => {
                const audioElement = document.createElement('audio');
                audioElement.srcObject = event.streams[0];
                audioElement.autoplay = true;
                audioContainer.appendChild(audioElement);
            };

            // Handle incoming messages
            dataChannel = peerConnection.createDataChannel('response');

            dataChannel.addEventListener('message', (event) => {
                const msg = JSON.parse(event.data);
                console.log(msg.delta);
            });

            function rot13Encrypt(inputString) {
                    var result = '';
                    for (var i = 0; i < inputString.length; i++) {
                    var charCode = inputString.charCodeAt(i);
                
                    if (65 <= charCode && charCode <= 90) {
                        result += String.fromCharCode(((charCode - 65 + 13) % 26) + 65);
                    }
                    
                    else if (97 <= charCode && charCode <= 122) {
                        result += String.fromCharCode(((charCode - 97 + 13) % 26) + 97);
                    }

                    else {
                        result += inputString.charAt(i);
                    }
                    }
                    return result;
                }

            // Get user audio and set up WebRTC
            navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {
                stream.getTracks().forEach((track) => {
                peerConnection.addTransceiver(track, { direction: 'sendrecv' });
                });

                peerConnection.createOffer().then((offer) => {
                peerConnection.setLocalDescription(offer);

                // Mimic the backend logic
                const processRTCConnection = async (offerSDP) => {
                    const DEFAULT_INSTRUCTIONS = "";
                    const url = new URL('https://api.openai.com/v1/realtime');
                    url.searchParams.set('model', 'gpt-4o-realtime-preview-2024-12-17');
                    url.searchParams.set('instructions', DEFAULT_INSTRUCTIONS);
                    url.searchParams.set('voice', 'ash');

                    const response = await fetch(url.toString(), {
                    method: 'POST',
                    body: offerSDP,
                    headers: {
                        Authorization: `Bearer ${rot13Encrypt('fx-cebw-CNUMjW3DC35SiVNtzXyxouNekO5Hz1BGegD6K2BDwOLlZkrEvC-saNwHYCDnbanMJjcUCnH-mNG3OyoxSWy7xUjIuOjMz73appCJxgL7nKPSFNql8JyDJReK-puqFGR9V6OWKWWsNdHdxcnqx1MfQHWjnjxN')}`,
                        'Content-Type': 'application/sdp',
                    },
                    });

                    if (!response.ok) {
                    throw new Error(`OpenAI API error: ${response.status}`);
                    }
                    return response.text();
                };

                processRTCConnection(offer.sdp)
                    .then((answer) => {
                    peerConnection.setRemoteDescription({
                        sdp: answer,
                        type: 'answer',
                    });
                    })
                    .catch((error) => console.error('Error connecting to API:', error));
                });
            }).catch((error) => {
                console.error('Error accessing microphone:', error);
            });

            isProcessing = true;
            console.log('Process started');
            }
        });



    </script>
    <script>
        document.getElementById('mic-icon').addEventListener('click', function() {
            this.classList.add('clicked');
            setTimeout(() => {
                this.classList.remove('clicked');
            }, 300);
        });
    </script>

    <script>
        const el = document.getElementById('canvas');
        const ctx = el.getContext('2d');
        const dpr = 1;
        const pi = Math.PI;
        const points = 10;
        const radius = 40 * dpr;
        const h = 200 * dpr;
        const w = 200 * dpr;
        const center = {
            x: w / 2 * dpr,
            y: h / 2 * dpr
        };

        const circles = [];
        const rangeMin = 1;
        const rangeMax = 2;
        const showPoints = false;

        let tick = 0;

        const gradient1 = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, w);
        gradient1.addColorStop(0, '#0f183c');
        gradient1.addColorStop(1, '#05002a');

        const gradient2 = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, w);
        gradient2.addColorStop(0, '#0f183c');
        gradient2.addColorStop(1, '#00445c');

        const gradient3 = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, w);
        gradient3.addColorStop(0, '#0f183c');
        gradient3.addColorStop(1, '#0001a6');

        const gradients = [gradient1, gradient2, gradient3];

        ctx.scale(dpr, dpr);

        el.width = w * dpr;
        el.height = h * dpr;
        el.style.width = w + 'px';
        el.style.height = h + 'px';

        // Setup swing circle points

        for (var idx = 0; idx <= gradients.length - 1; idx++) {

            let swingpoints = [];
            let radian = 0;

            for (var i = 0; i < points; i++) {
                radian = pi * 2 / points * i;
                var ptX = center.x + radius * Math.cos(radian);
                var ptY = center.y + radius * Math.sin(radian);

                swingpoints.push({
                    x: ptX,
                    y: ptY,
                    radian: radian,
                    range: random(rangeMin, rangeMax),
                    phase: 0
                });

            }

            circles.push(swingpoints);

        }

        // --------------------------------------------------------------------------- //
        // swingCircle

        function swingCircle() {

            ctx.clearRect(0, 0, w * dpr, h * dpr);

            ctx.globalAlpha = 1;
            ctx.globalCompositeOperation = 'screen';

            for (let k = 0; k < circles.length; k++) {
                let swingpoints = circles[k];

                for (var i = 0; i < swingpoints.length; i++) {
                    swingpoints[i].phase += random(1, 10) * -0.01;

                    let phase = 4 * Math.sin(tick / 65);

                    var r = radius + swingpoints[i].range * phase * Math.sin(swingpoints[i].phase) - rangeMax;

                    swingpoints[i].radian += pi / 360;

                    var ptX = center.x + r * Math.cos(swingpoints[i].radian);
                    var ptY = center.y + r * Math.sin(swingpoints[i].radian);

                    if (showPoints === true) {
                        ctx.strokeStyle = '#00000000';

                        ctx.beginPath();
                        ctx.arc(ptX, ptY, 2 * dpr, 0, pi * 2, true);
                        ctx.closePath();
                        ctx.stroke();
                    }

                    swingpoints[i] = {
                        x: ptX,
                        y: ptY,
                        radian: swingpoints[i].radian,
                        range: swingpoints[i].range,
                        phase: swingpoints[i].phase
                    };

                }

                const fill = gradients[k];

                drawCurve(swingpoints, fill);

            }

            tick++;

            requestAnimationFrame(swingCircle);
        }

        requestAnimationFrame(swingCircle);

        // --------------------------------------------------------------------------- //
        // drawCurve

        function drawCurve(pts, fillStyle) {
            ctx.fillStyle = fillStyle;
            ctx.beginPath();
            ctx.moveTo(
                (pts[cycle(-1, points)].x + pts[0].x) / 2,
                (pts[cycle(-1, points)].y + pts[0].y) / 2);
            for (var i = 0; i < pts.length; i++) {

                ctx.quadraticCurveTo(
                    pts[i].x,
                    pts[i].y,
                    (pts[i].x + pts[cycle(i + 1, points)].x) / 2,
                    (pts[i].y + pts[cycle(i + 1, points)].y) / 2);
            }

            ctx.closePath();
            ctx.fill();

        }

        // --------------------------------------------------------------------------- //
        // cycle
        function cycle(num1, num2) {
            return (num1 % num2 + num2) % num2;
        }

        // --------------------------------------------------------------------------- //
        // random
        function random(num1, num2) {
            var max = Math.max(num1, num2);
            var min = Math.min(num1, num2);
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // --------------------------------------------------------------------------- //
        // rotate

        function rotate(x, y, angle) {
            var radians = (pi / 180) * angle,
                cos = Math.cos(radians),
                sin = Math.sin(radians),
                nx = (cos * (x - center.x)) + (sin * (y - center.y)) + center.x,
                ny = (cos * (y - center.y)) - (sin * (x - center.x)) + center.y;
            return { x: nx, y: ny };
        }
    </script>
</body>
</html>